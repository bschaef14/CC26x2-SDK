<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>TI Utilities API: Log Interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link id="favicon" rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="tiapistylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="https://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TI Utilities API
   &#160;<span id="projectnumber">1.20.00.28</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">Log Interface</div>  </div>
</div><!--header-->
<div class="contents">

<p>The Log module provides APIs to instrument source code.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga61eb76590ab9e43ad3bbb35b2bc140eb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ti__utils__runtime__LOG.html#ga61eb76590ab9e43ad3bbb35b2bc140eb">ti_utils_runtime_Log_USE_LTO</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ga61eb76590ab9e43ad3bbb35b2bc140eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad3216db4b40e944cd8ed330a10aa7efa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ti__utils__runtime__LOG.html#gad3216db4b40e944cd8ed330a10aa7efa">ti_utils_runtime_Log_USE_PPO</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:gad3216db4b40e944cd8ed330a10aa7efa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6479587224578a87bc93ace081bb0ceb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ti__utils__runtime__LOG.html#ga6479587224578a87bc93ace081bb0ceb">Log_DECLARE_MODULE</a>(module)</td></tr>
<tr class="separator:ga6479587224578a87bc93ace081bb0ceb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ceda57c73ac4acc060b4b668c9de7b0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ti__utils__runtime__LOG.html#ga9ceda57c73ac4acc060b4b668c9de7b0">Log_event</a>(module,  level, ...)&#160;&#160;&#160;_Log_GUARD_MACRO(_Log_event_B(module , level, __VA_ARGS__))</td></tr>
<tr class="memdesc:ga9ceda57c73ac4acc060b4b668c9de7b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Raise a log event to the logger.  <a href="#ga9ceda57c73ac4acc060b4b668c9de7b0">More...</a><br /></td></tr>
<tr class="separator:ga9ceda57c73ac4acc060b4b668c9de7b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga52a13377c823ae489535087bdf5013ea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ti__utils__runtime__LOG.html#ga52a13377c823ae489535087bdf5013ea">Log_EVENT_CONSTRUCT</a>(module,  name,  fmt)</td></tr>
<tr class="memdesc:ga52a13377c823ae489535087bdf5013ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a log event object.  <a href="#ga52a13377c823ae489535087bdf5013ea">More...</a><br /></td></tr>
<tr class="separator:ga52a13377c823ae489535087bdf5013ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf26323fdf36a559a5fe882bf5566c3d4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ti__utils__runtime__LOG.html#gaf26323fdf36a559a5fe882bf5566c3d4">Log_buf</a>(module,  level,  format,  data,  size)&#160;&#160;&#160;_Log_GUARD_MACRO(_Log_buf_B(module , level, format, data, size))</td></tr>
<tr class="memdesc:gaf26323fdf36a559a5fe882bf5566c3d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log a continuous block of memory.  <a href="#gaf26323fdf36a559a5fe882bf5566c3d4">More...</a><br /></td></tr>
<tr class="separator:gaf26323fdf36a559a5fe882bf5566c3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga236a43b8f6c37a693a6feec79018ea50"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ti__utils__runtime__LOG.html#ga236a43b8f6c37a693a6feec79018ea50">Log_printf</a>(module,  level, ...)&#160;&#160;&#160;_Log_GUARD_MACRO(_Log_printf_B(module, level, __VA_ARGS__))</td></tr>
<tr class="memdesc:ga236a43b8f6c37a693a6feec79018ea50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emit a printf formatted log.  <a href="#ga236a43b8f6c37a693a6feec79018ea50">More...</a><br /></td></tr>
<tr class="separator:ga236a43b8f6c37a693a6feec79018ea50"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gadbd36cdcf1aae2b24f0020d2c5502d2d"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="group__ti__utils__runtime__LOG.html#gac2642f9959f3f0287f297b941797c733">Log_Level</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ti__utils__runtime__LOG.html#gadbd36cdcf1aae2b24f0020d2c5502d2d">Log_Level</a></td></tr>
<tr class="separator:gadbd36cdcf1aae2b24f0020d2c5502d2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gac2642f9959f3f0287f297b941797c733"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ti__utils__runtime__LOG.html#gac2642f9959f3f0287f297b941797c733">Log_Level</a> { <br />
&#160;&#160;<a class="el" href="group__ti__utils__runtime__LOG.html#ggac2642f9959f3f0287f297b941797c733a35fecc7a65dd27b3d20b7f181b0aaf83">Log_INFO1</a> = 1, 
<br />
&#160;&#160;<a class="el" href="group__ti__utils__runtime__LOG.html#ggac2642f9959f3f0287f297b941797c733a5c18354dd84a9a6d85dc7f54126d5cf8">Log_INFO2</a> = 2, 
<br />
&#160;&#160;<a class="el" href="group__ti__utils__runtime__LOG.html#ggac2642f9959f3f0287f297b941797c733a904a3c3a36e0f4a0c7b0dc3966fc7d56">Log_INFO3</a> = 4, 
<br />
&#160;&#160;<a class="el" href="group__ti__utils__runtime__LOG.html#ggac2642f9959f3f0287f297b941797c733a1ad34ac1a3f7eb48181c9260efd2ccce">Log_INFO4</a> = 8, 
<br />
&#160;&#160;<a class="el" href="group__ti__utils__runtime__LOG.html#ggac2642f9959f3f0287f297b941797c733ad22377a1161c634996b72eed0539de23">Log_INFO5</a> = 16, 
<br />
&#160;&#160;<a class="el" href="group__ti__utils__runtime__LOG.html#ggac2642f9959f3f0287f297b941797c733abeac03d4379ad2837ef55e86fab8b4ac">Log_INFO6</a> = 32, 
<br />
&#160;&#160;<a class="el" href="group__ti__utils__runtime__LOG.html#ggac2642f9959f3f0287f297b941797c733a1e8b6ef7cd5c5e4384b6dc414fc33e38">Log_WARN</a> = 64, 
<br />
&#160;&#160;<a class="el" href="group__ti__utils__runtime__LOG.html#ggac2642f9959f3f0287f297b941797c733a2339d0128a57a6750f9110f366d924a1">Log_ERROR</a> = 128
<br />
 }</td></tr>
<tr class="separator:gac2642f9959f3f0287f297b941797c733"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The Log module provides APIs to instrument source code. </p>
<p>To access the LOG APIs, the application should include its header file as follows: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Log_8h.html">ti/utils/runtime/Log.h</a>&gt;</span></div></div><!-- fragment --><p>When the application is configured using syscfg, the generated ti_utils_build_linker command file will pull in the necessary libraries based on the options selected in the UI.</p>
<p>If syscfg is not used, the developer must add any relevant Logger transport libraries to the link line. An example is shown below for LoggerBuf which is a memory based log transport: </p><div class="fragment"><div class="line">.../source/ti/loggers/utils/lib/{toolchain}/{isa}/loggers_{profile}.a</div></div><!-- fragment --><h2>Beta Disclaimer</h2>
<p>The logging ecosystem are to be considered beta quality. They are not recommended for use in production code by TI. APIs and behaviour will change in future releases. Please report issues or feedback to <a href="https://e2e.ti.com/"><b>E2E</b></a>.</p>
<h2>Definitions</h2>
<p>The following terms are used throughout the log documentation.</p>
<table class="doxtable">
<tr>
<th>Term </th><th>Definition  </th></tr>
<tr>
<td><code>LogModule</code> </td><td>A parameter passed to Log APIs to indicate which software module the log statement originated from. </td></tr>
<tr>
<td><code>LogLevel</code> </td><td>The severity or importance of a given log statement. </td></tr>
<tr>
<td><code>BackendDelegate</code> </td><td>Also simply called a logger. This is a transport specific logger implementation. <br />
 The Logging framework is flexible such that multiple backend delegates may exist in a single firmware image. </td></tr>
<tr>
<td><code>CallSite</code> </td><td>A specific invocation of a Log API in a given file or program. </td></tr>
<tr>
<td><code>LogSite</code> </td><td>The syscfg module that handles routing of <code>LogModule</code>s to specific <code>BackendDelegate</code>s. </td></tr>
<tr>
<td>Link Time Optimization (LTO) </td><td>Conditional inclusion/exclusion of logs using link time optimization/dead code elimination. <br />
 This approach will push the decision of log inclusion to the linker. <br />
 In order to achieve good performance all code and libraries participating in logging must be compiled and linked at the highest optimization level. </td></tr>
<tr>
<td>Preprocessor Optimization (PPO) </td><td>Conditional inclusion/exclusion of logs using the C preprocessor. The decision to include/exclude logs is made during preprocessing. </td></tr>
</table>
<h2>Modules</h2>
<p>When adding log statements to the target software, it is recommended to create a logging module for each software component in the image. Modules enable the reader to understand where the log record originated from. Some log visualizers may allow the reader to filter or sort log statements by module. It is also recommended to namespace modules.</p>
<p>For example, a good module name for the <code>UART</code> driver that exists in <code>source/ti/drivers</code>, would be <code>ti_drivers_UART</code>.</p>
<p>Modules also control the routing of log records to a backend delegate. Routing is controlled via the LogSite panel in syscfg. The default log module is called <code>ti_utils_runtime_LogMain</code> and is always available. All other modules must be created via LogSite. Enabling a module via LogSite will generate externs and definitions in <code>ti_utils_runtime_config</code>. Each extern and definition is namespaced by the module.</p>
<p>An example of the definitions generated for the default log module is shown below:</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> uint32_t        ti_utils_runtime_LogMain_LogSite_level = 0;</div><div class="line"><span class="keyword">const</span> ILogger_Handle  ti_utils_runtime_LogMain_LogSite_handle = &amp;ti_loggers_utils_LoggerBuf_config[0];</div><div class="line"><span class="keyword">extern</span> <span class="keywordtype">void</span>           ti_utils_runtime_LogMain_LogSite_event(ILogger_Handle, uint32_t, uintptr_t, uintptr_t, uintptr_t, uintptr_t, uintptr_t);</div><div class="line"><span class="keyword">extern</span> <span class="keywordtype">void</span>           ti_utils_runtime_LogMain_LogSite_printf(ILogger_Handle, uint32_t, uint32_t, ...);</div><div class="line"><span class="keyword">extern</span> <span class="keywordtype">void</span>           ti_utils_runtime_LogMain_LogSite_buf(ILogger_Handle, uint32_t, <span class="keyword">const</span> <span class="keywordtype">char</span>*, uint8_t *, <span class="keywordtype">size_t</span>);</div></div><!-- fragment --><p>In summary, each new module will instantiate a level bitmask and handle. It will also create externs of each log API that is prefixed with the module name. The extern definitions allow routing of different modules to different logger backends.</p>
<p>The routing of module &ndash;&gt; backend is achieved at link time by remapping the externed symbol generated above to the actual backend logger API. Routing is achieved by using the symbol renaming function of the linker. The LogSite syscfg will generate a file called <code>ti_utils_runtime_LogSite.cmd.genlibs</code> that does this mapping at link time. A sample of this for the TI ARM compiler is shown below. It will route the externs created above to the LoggerBuf backend.</p>
<div class="fragment"><div class="line">--symbol_map=ti_utils_runtime_LogMain_LogSite_event=ti_loggers_utils_LoggerBuf_event</div><div class="line">--symbol_map=ti_utils_runtime_LogMain_LogSite_printf=ti_loggers_utils_LoggerBuf_printf</div><div class="line">--symbol_map=ti_utils_runtime_LogMain_LogSite_buf=ti_loggers_utils_LoggerBuf_buf</div></div><!-- fragment --><h2>Levels</h2>
<p>Log levels are a way to indicate the severity or importance of the contents of a particular log call site. Each call site takes an argument that allows the user to specify the level. As with modules, log visualization tools allow the user to sort or filter on a given level. This can help the reader to find important or relevant log statements in visualization.</p>
<p>Log levels are also used to control the emission of logs. Each call site will check that the level is enabled before calling the underlying log API.</p>
<p>When using LTO log levels are configurable on a per module basis while when using PPO the levels are controlled via preprocessor definitions for example: <code>ti_utils_runtime_Log_ENABLE_INFO1</code>. For PPO, all log levels of interest must be enabled in the preprocessor options. For LTO, they are controlled via syscfg.</p>
<p>For PPO:</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> ((level) &amp; module##_LogSite_level) {</div><div class="line">    <span class="comment">// Call Log API</span></div><div class="line">}</div></div><!-- fragment --><p>For LTO: </p><div class="fragment"><div class="line"><span class="keywordflow">if</span> ((level) &amp; module##_LogSite_level) {</div><div class="line">    <span class="comment">// Call Log API</span></div><div class="line">}</div></div><!-- fragment --><dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<h2>Log Metadata</h2>
<p>Each time a Log API is invoked, a metadata string is placed in the .out file. This string contains information about the API type, file, line module, level, and other information associated with the log call site. Each call site emits a string to a specific memory section called <code>.log_data</code>. In order to use logging, this section should be added to the linker command file. By default, this section points to a nonloadable region of memory. Meaning that the metadata will not be loaded on the target device. Instead, the various logging visualization tools such as wireshark and TI ROV2 will read the metadata from this section and properly decode the log statements. The benefit of this approach is that very little memory is consumed on target. Additionally, the log transport only needs to store or send pointers to this meta section when a log API is called.</p>
<p>In summary, this approach minimizes the amount of memory consumed on device and bytes sent over the transport. This section can be loaded on target if desired or if you are creating a custom logger. The design does not preclude this.</p>
<p>In order to use the logging framework, the log section must be added to the linker command file. Here is a sample for the TI linker. Other examples can be found in the TI provided linker files for each toolchain.</p>
<div class="fragment"><div class="line">MEMORY</div><div class="line">{</div><div class="line">    <span class="comment">// List other memory regions here</span></div><div class="line">    LOG_DATA (R) : origin = 0x90000000, length = 0x40000</div><div class="line">}</div><div class="line">SECTIONS</div><div class="line">{</div><div class="line">     .log_data       :   &gt; LOG_DATA, type = COPY</div><div class="line">}</div></div><!-- fragment --><h1>Usage</h1>
<p>This section provides a basic <a class="el" href="group__ti__utils__runtime__LOG.html#ti_utils_runtime_LOG_Synopsis">usage summary</a> and a set of <a class="el" href="group__ti__utils__runtime__LOG.html#ti_utils_runtime_LOG_Examples">examples</a> in the form of commented code fragments. Detailed descriptions of the LOG APIs are provided in subsequent sections.</p>
<p><a class="anchor" id="ti_utils_runtime_LOG_Synopsis"></a></p><h3>Synopsis</h3>
<div class="fragment"><div class="line"><span class="comment">// Import the Log header</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Log_8h.html">ti/utils/runtime/Log.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Printf is the easiest to use log-api. It offers medium performance</span></div><div class="line"><span class="comment">// for most transport mechanisms</span></div><div class="line"><a class="code" href="group__ti__utils__runtime__LOG.html#ga236a43b8f6c37a693a6feec79018ea50">Log_printf</a>(ti_utils_runtime_LogMain, <a class="code" href="group__ti__utils__runtime__LOG.html#ggac2642f9959f3f0287f297b941797c733a35fecc7a65dd27b3d20b7f181b0aaf83">Log_INFO1</a>, <span class="stringliteral">&quot;Hello World!&quot;</span>);</div></div><!-- fragment --><p><a class="anchor" id="ti_utils_runtime_LOG_Examples"></a></p><h3>Examples</h3>
<ul>
<li><a class="el" href="group__ti__utils__runtime__LOG.html#ti_utils_LOG_Example_event">Log Event</a></li>
<li><a class="el" href="group__ti__utils__runtime__LOG.html#ti_utils_LOG_Example_printf">Log printf</a></li>
<li><a class="el" href="group__ti__utils__runtime__LOG.html#ti_utils_LOG_Example_buf">Logging buffers</a></li>
</ul>
<p><a class="anchor" id="ti_utils_LOG_Example_event"></a><b>Log Event</b>: The following example demonstrates how to create a log event object and use it in the code. There are two steps to using a log event: 1. instantiation and 2. call site(s). Instantiation creates the event and the necessary metadata, and call site is where the event is actually recorded by the logger framework. Because most of the metadata and arguments are statically created, the event is the most efficient log statement.</p>
<div class="fragment"><div class="line"><span class="comment">// Create a log event data type called LogEvent_count</span></div><div class="line"><span class="comment">// The log module is ti_utils_runtime_LogMain</span></div><div class="line"><span class="comment">// The format string is &quot;count=%d&quot; -- this should describe what the event</span></div><div class="line"><span class="comment">// does</span></div><div class="line"><a class="code" href="group__ti__utils__runtime__LOG.html#ga52a13377c823ae489535087bdf5013ea">Log_EVENT_CONSTRUCT</a>(ti_utils_runtime_LogMain, LogEvent_count, <span class="stringliteral">&quot;count=%d&quot;</span>);</div></div><!-- fragment --><p>Later on, in the application, the count event is consumed. Note the log module must match between event creation and call site. In the code below, a LogEvent record is created for serialization or stage by the backend logger.</p>
<div class="fragment"><div class="line"><a class="code" href="group__ti__utils__runtime__LOG.html#ga9ceda57c73ac4acc060b4b668c9de7b0">Log_event</a>(ti_utils_runtime_LogMain, <a class="code" href="group__ti__utils__runtime__LOG.html#ggac2642f9959f3f0287f297b941797c733a35fecc7a65dd27b3d20b7f181b0aaf83">Log_INFO1</a>, LogEvent_count, count++);</div></div><!-- fragment --><p><a class="anchor" id="ti_utils_LOG_Example_printf"></a><b>Log Printf</b>: The following example demonstrates use of the Log printf API. in code. Printf will embed the format string in the call site and will take arguments using varadic arguments</p>
<div class="fragment"><div class="line"><a class="code" href="group__ti__utils__runtime__LOG.html#ga236a43b8f6c37a693a6feec79018ea50">Log_printf</a>(ti_utils_runtime_LogMain, <a class="code" href="group__ti__utils__runtime__LOG.html#ggac2642f9959f3f0287f297b941797c733a35fecc7a65dd27b3d20b7f181b0aaf83">Log_INFO1</a>, <span class="stringliteral">&quot;Hello World!&quot;</span>);</div></div><!-- fragment --><p><a class="anchor" id="ti_utils_LOG_Example_buf"></a><b>Log Buf</b>: The following example demonstrates use of the Log buf API. in code. Printf will embed the format string in the call site and will take the buffer as a pointer and length. Buffers are treated as arrays of bytes. The buffer API should only be used when it is necessary to log data that is only available at runtime. It will actually send or store the entire contents of the buffer, so this API should be used sparingly as it is costly in terms of runtime and memory overhead.</p>
<div class="fragment"><div class="line">uint8_t bufferToLog[] = {0, 1, 2, 3, 4, 5};</div><div class="line"><a class="code" href="group__ti__utils__runtime__LOG.html#gaf26323fdf36a559a5fe882bf5566c3d4">Log_buf</a>(ti_utils_runtime_LogMain,</div><div class="line">        <a class="code" href="group__ti__utils__runtime__LOG.html#ggac2642f9959f3f0287f297b941797c733a35fecc7a65dd27b3d20b7f181b0aaf83">Log_INFO1</a>,</div><div class="line">        <span class="stringliteral">&quot;The contents of bufferToLog are: &quot;</span>,</div><div class="line">        bufferToLog,</div><div class="line">        <span class="keyword">sizeof</span>(bufferToLog));</div></div><!-- fragment --> <h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga61eb76590ab9e43ad3bbb35b2bc140eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga61eb76590ab9e43ad3bbb35b2bc140eb">&sect;&nbsp;</a></span>ti_utils_runtime_Log_USE_LTO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ti_utils_runtime_Log_USE_LTO&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gad3216db4b40e944cd8ed330a10aa7efa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad3216db4b40e944cd8ed330a10aa7efa">&sect;&nbsp;</a></span>ti_utils_runtime_Log_USE_PPO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ti_utils_runtime_Log_USE_PPO&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga6479587224578a87bc93ace081bb0ceb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6479587224578a87bc93ace081bb0ceb">&sect;&nbsp;</a></span>Log_DECLARE_MODULE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Log_DECLARE_MODULE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">module</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_Log_DECL_Write(module);                                           \</div><div class="line">            _Log_DECL_Printf(module);                                          \</div><div class="line">            _Log_DECL_buf(module);                                             \</div><div class="line">            _Log_DECL_Handle(module);                                          \</div><div class="line">            _Log_DECL_Level(module);</div></div><!-- fragment --><p>Declare a log module other than the default (ti_utils_runtime_LogMain)</p>
<p>This macro will create the necessary externs used to route this module's traffic to a logger instance. It can be useful for statically linked libraries to forward declare their modules so that they can be routed at link time</p>
<p>This must be combined with a symbol remapping to the specific backend logger that will accept this modules log statements. This is discussed in the modules section above. If using syscfg, this macro is not required as the externs are generated by the LogSite module.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">module</td><td>Log module to declare </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9ceda57c73ac4acc060b4b668c9de7b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9ceda57c73ac4acc060b4b668c9de7b0">&sect;&nbsp;</a></span>Log_event</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Log_event</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">module, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">level, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;_Log_GUARD_MACRO(_Log_event_B(module , level, __VA_ARGS__))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Raise a log event to the logger. </p>
<p>This API will emit a log record with the user provided event arguments. This event is linked to the one constructed by <a class="el" href="group__ti__utils__runtime__LOG.html#ga52a13377c823ae489535087bdf5013ea">Log_EVENT_CONSTRUCT</a> through a pointer to the metadata location. Separate construct and consume APIs means that an event can be constructed in the code and reused multiple places in the code with different runtime arguments.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">module</td><td>Log module that the event belongs to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">level</td><td>log level </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">...</td><td>Variadic arguments consisting of the following<ul>
<li><code>event</code> structure declared by <a class="el" href="group__ti__utils__runtime__LOG.html#ga52a13377c823ae489535087bdf5013ea">Log_EVENT_CONSTRUCT</a>. <b>This is required</b></li>
<li><code>a0-a3</code> arguments consumed by the Log_EVENT_CONSTRUCT format string. These are optional</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>The maximum number of arguments is four. All 4 arguments will always be provided to the backend. Unused arguments are passed as 0. </dd></dl>

</div>
</div>
<a id="ga52a13377c823ae489535087bdf5013ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga52a13377c823ae489535087bdf5013ea">&sect;&nbsp;</a></span>Log_EVENT_CONSTRUCT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Log_EVENT_CONSTRUCT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">module, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fmt&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_Log_PLACE_FORMAT_IN_SECTOR(_Log_CONCAT2(LogSymbol, name),             \</div><div class="line">                                    LOG_EVENT_CONSTRUCT,                       \</div><div class="line">                                    name,                                      \</div><div class="line">                                    module,                                    \</div><div class="line">                                    fmt,                                       \</div><div class="line">                                    0)                                         \</div><div class="line">        const <span class="keywordtype">char</span> *_Log_CONCAT2(module, name) = _Log_CONCAT2(LogSymbol,       \</div><div class="line">                                                              name);</div></div><!-- fragment -->
<p>Construct a log event object. </p>
<p>Use this marco to define a log event object. The object is private to the current file. Use the object handle in a call to <a class="el" href="group__ti__utils__runtime__LOG.html#ga9ceda57c73ac4acc060b4b668c9de7b0">Log_event</a> to raise that event to the logger.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">module</td><td>Log module that the event belongs to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Event variable name, to be passed to Log_event API </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fmt</td><td>Restricted format string. Note <code>s</code> is not supported. Supported format specifiers include: <code>c</code>, <code>f</code>, <code>d</code>, <code>x</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>The module passed here must match the one from the callsite </dd></dl>

</div>
</div>
<a id="gaf26323fdf36a559a5fe882bf5566c3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf26323fdf36a559a5fe882bf5566c3d4">&sect;&nbsp;</a></span>Log_buf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Log_buf</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">module, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">level, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">format, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">data, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">size&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;_Log_GUARD_MACRO(_Log_buf_B(module , level, format, data, size))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Log a continuous block of memory. </p>
<p>Use this marco to send out runtime data from the device. This API should be used when the data is non constant and can only be derived at runtime. It is the most intrusive in terms of record overhead and instructions used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">module</td><td>Log module that the buffer originated from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">level</td><td>log level of type <a class="el" href="group__ti__utils__runtime__LOG.html#gadbd36cdcf1aae2b24f0020d2c5502d2d">Log_Level</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">format</td><td>Restricted format string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to array of bytes (uint8_t *) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Size in bytes of array to send </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga236a43b8f6c37a693a6feec79018ea50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga236a43b8f6c37a693a6feec79018ea50">&sect;&nbsp;</a></span>Log_printf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Log_printf</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">module, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">level, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;_Log_GUARD_MACRO(_Log_printf_B(module, level, __VA_ARGS__))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Emit a printf formatted log. </p>
<p>Use this marco to enable printf style logging. This API offers the most flexibility as the construction of the format string is embedded in the call site of the API. It also supports true variadic arguments.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">module</td><td>Log module that the buffer originated from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">level</td><td>log level of type <a class="el" href="group__ti__utils__runtime__LOG.html#gadbd36cdcf1aae2b24f0020d2c5502d2d">Log_Level</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">...</td><td>Variadic arguments consisting of the following<ul>
<li><code>format</code> format string. <b>This is required</b></li>
<li><code>a0-a3</code> arguments consumed by the format string. These are optional</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>The number of arguments is currently limited to 4. Only used arguments are included in the record. </dd></dl>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gadbd36cdcf1aae2b24f0020d2c5502d2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadbd36cdcf1aae2b24f0020d2c5502d2d">&sect;&nbsp;</a></span>Log_Level</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group__ti__utils__runtime__LOG.html#gac2642f9959f3f0287f297b941797c733">Log_Level</a>  <a class="el" href="group__ti__utils__runtime__LOG.html#gac2642f9959f3f0287f297b941797c733">Log_Level</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gac2642f9959f3f0287f297b941797c733"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac2642f9959f3f0287f297b941797c733">&sect;&nbsp;</a></span>Log_Level</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__ti__utils__runtime__LOG.html#gac2642f9959f3f0287f297b941797c733">Log_Level</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggac2642f9959f3f0287f297b941797c733a35fecc7a65dd27b3d20b7f181b0aaf83"></a>Log_INFO1&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggac2642f9959f3f0287f297b941797c733a5c18354dd84a9a6d85dc7f54126d5cf8"></a>Log_INFO2&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggac2642f9959f3f0287f297b941797c733a904a3c3a36e0f4a0c7b0dc3966fc7d56"></a>Log_INFO3&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggac2642f9959f3f0287f297b941797c733a1ad34ac1a3f7eb48181c9260efd2ccce"></a>Log_INFO4&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggac2642f9959f3f0287f297b941797c733ad22377a1161c634996b72eed0539de23"></a>Log_INFO5&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggac2642f9959f3f0287f297b941797c733abeac03d4379ad2837ef55e86fab8b4ac"></a>Log_INFO6&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggac2642f9959f3f0287f297b941797c733a1e8b6ef7cd5c5e4384b6dc414fc33e38"></a>Log_WARN&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggac2642f9959f3f0287f297b941797c733a2339d0128a57a6750f9110f366d924a1"></a>Log_ERROR&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><small>
  <a href="https://www.ti.com/corp/docs/legal/copyright.shtml">Â© Copyright 1995-2020</a>, Texas Instruments Incorporated. All rights reserved. <br/>
  <a href="https://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="https://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="https://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="https://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>
</small>
</body>
</html>
